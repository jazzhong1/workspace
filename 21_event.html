<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width" initial-scale="1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style media="screen">
    div {
      width: 100%;
      height: 100px;
      border: 1px solid blue;
    }
  </style>
  <script type="text/javascript">

    window.onload = function() {
      alert('페이지로딩이끝났습니다.');
      document.getElementById('e1').innerHTML="onload실행";
    };    //body를 다읽었다는 뜻이다.



      (function() {
      alert('1.....페이지로딩중')
    })();
    var div11=document.getElementById('e1');

  </script>
  <title>이벤트처리</title>
</head>

<body>
  <h1>고전이벤트처리</h1>
  <div id='e1'></div>
  <script type="text/javascript">
    e1.onclick = function() {
      var div1 = document.getElementById('e1')
      this.innerHTML += "div를 눌렀습니다.";
      this.onclick = null;
    }
  </script>
  <h1>addlistener</h1>
  <button type="button" name="button" id='test1'>test</button>
  <button type="button" name="button" id='test2'>test1</button>
  <script type="text/javascript">
    var te = document.getElementById('test1');
    te.addEventListener('mouseover', eventHandle);
    te.addEventListener('click', changeTest);
    var flag = true;

    function changeTest() {
      if (flag) {
        te.style.backgroundColor = "red";
        flag = false;
      }
      else {
        te.style.backgroundColor = "blue";
        flag = true;
      }
    }

    function eventHandle() {
      if (flag) {
        document.getElementById('test1').innerHTML = '고고고!!하하!';
        flag = false;
      } else {
        document.getElementById('test1').innerHTML = '"스~톱!!하하!';
        flag = true;
      }
    }
    var te2 = document.getElementById("test2");
    te2.addEventListener('click', function() {
      te.removeEventListener('mouseover', eventHandle)
    });

    //토글이 번갈아가면서 실행하는것이다.//
  </script>

  <h1>이벤트객체</h1>
  <div id='eobj'></div>
  <button type="button" name="button" id='bnt'>실행</button>
  <script type="text/javascript">
    document.getElementById('bnt').addEventListener('click',handler);  //handler는 함수.

      function handler(e) {    //여기서 매개변수로 선언하면 eventListener에서 발생한 객체를
        var event= e||window.event;
                  //e가 있으면 event에 집어넣고 없으면 window.event를 집어넣는다.

        for(t in event){
            console.log(event[t]);
        }
        this.style.backgroudColor='red';
      }

  </script>
</body>

</html>
